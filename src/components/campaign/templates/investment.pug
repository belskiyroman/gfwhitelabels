include ../../../templates/mixins.pug

+breadcrumbs('Invest', '', 
  [
    ['Home', '/'], 
    ['Explore', Urls['campaign-list']()],  
    [campaign.company.name, Urls['campaign-detail'](campaign.id)], 
    ['Invest in ' + campaign.company.name, '']
  ]
)

.container.investment
  //START LEFT BLOCK
  .row
    .col-lg-7
      h2.text-uppercase.dosis.m-t-0 Investment
      .form-section.clearfix
        form(metod="post" action="").invest_form.clearfix
          +fieldBlock("amount", '', {
              class1: 'col-lg-3 col-md-3',
              class2: 'col-lg-9 col-md-9',
              type: 'text',
              placeholder: '$2,500',
              text: "$10 of payment processing fee. Your money will be returned to you if the campaign doesn't reach the target goal ($500,000)."
              })

          // popover content for amount field
          div.popover-content-amount-campaign
            i.fa.fa-info-circle
            span Investors are limited to 12 month investment totals ranging from $2,000 - $100,000 based on income and net worth.Please update your financial information to see your limit:

            +fieldBlock("annual_income", user[annual_income], {'class1': 'col-md-4', 'class2': 'col-md-8', 'type': 'text'})

            +fieldBlock("net_worth", user[net_worth], {'class1': 'col-md-4', 'class2': 'col-md-8', 'type': 'text'})

          section.personal_information
            h2.text-uppercase.dosis Personal Information
              span.small-text.open-sans Required by United States banking laws. This information is transmitted securely and will never be used for any purpose beyond executing your investment. You only have to do this once.
            +fieldBlock("name", '', {
              class1: 'col-lg-3 col-md-3',
              class2: 'col-lg-9 col-md-9',
              type: 'text',
              })
            +fieldBlock("phone", '', {
              class1: 'col-lg-3 col-md-3',
              class2: 'col-lg-9 col-md-9',
              type: 'text',
              })
            +fieldBlock("street_address_1", '', {
              class1: 'col-lg-3 col-md-3',
              class2: 'col-lg-9 col-md-9',
              type: 'text',
              })
            +fieldBlock("street_address_2", '', {
              class1: 'col-lg-3 col-md-3',
              class2: 'col-lg-9 col-md-9',
              type: 'text',
              }).street_address_2
            .row
              .col-lg-7.p-l-2
                +fieldBlock("zip_code", '', {
                  class1: 'col-lg-5',
                  class2: 'col-lg-7',
                  })
              .col-lg-5.city_states
                label.col-lg-5 City/State
                .col-lg-7
                  span(data-toggle="modal" data-target="#city_state_modal" href="#city_state_modal").change_state_city
                    span.input-value.js-city-state New York, NY
                    i.fa.fa-pencil-square-o
            .row
              .col-lg-7.no-margin-bottom.p-l-2
                +fieldBlock("dob", '', {
                  class1: 'col-lg-5',
                  class2: 'col-lg-7',
                  type: 'date',
                  })
              .col-lg-5.no-margin-bottom
                +fieldBlock("ssn", '', {
                  class1: 'col-lg-5 col-md-3', 
                  class2: 'col-lg-7 col-md-8', 
                  type: 'text',
                  placeholder: 'ХХХ-ХХ-XXXX',
                  })
          section.payment-information.border-bottom
            h2.text-uppercase.dosis Payment information
              span.small-text.open-sans Link your bank account or manually enter your bank account details.

            +fieldBlock("route_number", '', {
              class1: 'col-lg-3 col-md-3',
              class2: 'col-lg-9 col-md-9',
              type: 'text',
              })
            +fieldBlock("account_number", '', {
              class1: 'col-lg-3 col-md-3',
              class2: 'col-lg-9 col-md-9',
              type: 'text',
              })
              
                .col-md-12
                  span.help-block GrowthFountain does not store your bank login credentials

          section.varification
            h2.text-uppercase.dosis VERIFICATION
            +fieldBlock('is_reviewed_edu_material', '1', {
              class1: 'col-md-2',
              class2: 'col-md-10',
              type: 'checkbox',
              text: 'I have reviewed and understand the education material on GrowthFountain. I understand that GrowthFountain does not offer investment advice or recommendations, and that I have made my own investment decision.'
            })
            +fieldBlock('is_understand_terms', '1', {
              type: 'checkbox',
              text: 'I understand that it may be difficult to resell securities purchased on GrowthFountain.'
            })
            +fieldBlock('is_resell_difficult', '1', {
              type: 'checkbox',
              text: 'I understand that it may be difficult to resell securities purchased on GrowthFountain.'
            })
            +fieldBlock('is_startup_risk', '1', {
              type: 'checkbox',
              text: 'I understand that investing in start-ups and small businesses listed on GrowthFountain is very risky, and that I should not invest any funds unless I can afford to lose my entire investment.'
            })
            .form-group.row.mb-20
              .col-md-10.offset-md-2
                a(
                 href=""
                 ).link-2 Subscription agreement
            +fieldBlock('agree', '1', {
              type: 'checkbox',
              text: 'I agree to the terms of the Subscription Agreement specific to this issuer.'
            })
            input(type="hidden" name="state" value="NY") 
            input(type="hidden" name="city" value="New York") 

            .form-group.row
              .col-md-12
                .controls
                  button(
                  type="submit").btn.btn-lg.btn-primary.pull-right.text-uppercase invest
    //END LEFT BLOCK
    //START RIGHT BLOCK
    .col-lg-4.pull-right

      if campaign.perks
          h2.text-uppercase.dosis.m-t-0 PERKS
            span.small-text.open-sans Investor Perks are not intended to affect the value of the security and investors should evaluate the merits of each investment without regard to any Investor Perks.
          .list-group.list-group-border-invest.invest-right-margin
          a(href="#" data-from='1000' data-to='1500').list-group-item.list-group-item-action.perk
            h3.list-group-item-heading 
              span.text-color-puerto_rico $1000
              |  Investments 
            p.list-group-item-text.text-justify FULLY LOADED PACKAGE: The Peloton Bike plus Peloton headphones, Peloton biking shoes, a Peloton heart rate monitor, the Peloton hand weights, a Peloton shirt, and a Peloton sweat mat (you're going to need it!).
          a(href="#" data-from='1500' data-to='100000').list-group-item.list-group-item-action.perk
            h3.list-group-item-heading 
              span.text-color-puerto_rico $1500
              |  Investments
            p.list-group-item-text.text-justify The Peloton Bike (and all of the accessories) AND a trip for two to NYC to meet the team and teach (or take) your very own class in the Peloton Studio, to be accessible to all Peloton riders via on-demand classes! (USA ONLY)
        
      h2.text-uppercase.dosis Investment Summary
      .jumbotron.jumbotron-fluid.investment-summary
        .container
          .col-md-7
            .row
              span Target
              p.font-weight-bold $500,000 - $1,000,000
          .col-md-5
            .row
              span Committed
              p.font-weight-bold $2,256
        .container
          .col-md-7
            .row
              span Offering deadline
              p.font-weight-bold.m-b-0 Sep 14, 2016
          .col-md-5
            .row
              span Type of security
              p.font-weight-bold.m-b-0 Equity

//MODAL
#city_state_modal.modal.fade(tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true")
    .modal-dialog(role="document")
        .modal-content
            .modal-header
                button(type="button" class="close" data-dismiss="modal" aria-label="Close")
                    span(aria-hidden="true")
                        i.fa.fa-times
                h2(class="modal-title").text-lg-center.text-uppercase.dosis City/State

            .modal-body
                .container.form-section
                    form.col-lg-10.offset-lg-1.border-bottom
                        .form-group.row.clearfix.required
                            input#city.js-city(type="text" placeholder="City").form-control
                        .form-group.row.clearfix.required
                            select#state.js-state(name='state').form-control.custom-select
                                option(checked='checked', value="") State
                                each state in states
                                    option(value=state.abbreviation)= state.name
                        .form-group.row.clearfix.required.m0
                            .row
                                .col-lg-12
                                    .col-lg-12.text-lg-center
                                            a(data-dismiss="modal").update-location.btn.btn-lg.btn-primary.text-uppercase save
                .modal-footer

script(src="http://maps.google.com/maps/api/js?language=en&key=" + googleMapKey)
